{"version":3,"sources":[null,"webpack:///C:/Users/Administrator/Desktop/diary/components/jin-edit/jin-edit.vue?f3db","webpack:///C:/Users/Administrator/Desktop/diary/components/jin-edit/jin-edit.vue?effd","webpack:///C:/Users/Administrator/Desktop/diary/components/jin-edit/jin-edit.vue?cfa2","uni-app:///components/jin-edit/jin-edit.vue","webpack:///C:/Users/Administrator/Desktop/diary/components/jin-edit/jin-edit.vue?0801","webpack:///C:/Users/Administrator/Desktop/diary/components/jin-edit/jin-edit.vue?b877"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAslB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkE1mB;AACA;AACA;AACA;AACA,mBADA;AAEA,oBAFA,EAFA;;AAMA;AACA;AACA,mBADA;AAEA,oBAFA,EAPA;;AAWA;AACA;AACA,mBADA;AAEA,oBAFA,EAZA;;AAgBA;AACA;AACA,kBADA;AAEA,wBAFA,EAjBA;;AAqBA;AACA;AACA,kBADA;AAEA,kBAFA,EAtBA;;AA0BA;AACA;AACA,kBADA;AAEA,qBAFA,EA3BA;;AA+BA;AACA;AACA,kBADA,EAhCA;;AAmCA;AACA;AACA,kBADA,EApCA,EADA;;;AAyCA,cAzCA;;;AA4CA,MA5CA,kBA4CA;AACA;AACA,yBADA,EACA;AACA,qBAFA,EAEA;AACA,uBAHA,EAGA;AACA,oBAJA,EAIA;AACA,uBALA,EAKA;AACA,uBANA,EAMA;AACA,sBAPA,EAOA;AACA,6BARA,EAQA;AACA;AACA,4BAVA,EAUA;AACA,wBAXA,EAWA;AACA,yBAZA,CAYA;AAZA;AAcA,GA3DA;AA4DA;AACA,oBADA;AAEA,4BAFA,EA5DA;;AAgEA,SAhEA,qBAgEA;;AAEA,GAlEA;AAmEA;AACA,cADA,sBACA,UADA,EACA;AACA;AACA;AACA,KAJA;AAKA;AACA,cANA,wBAMA,EANA;;AAQA;AACA,aATA,uBASA,EATA;;AAWA;AACA,aAZA,uBAYA,EAZA;;AAcA,iBAdA,yBAcA,CAdA,EAcA;AACA;AACA;AACA,QADA,CACA,IADA;AAEA,YAFA,CAEA,eAFA;AAGA,YAHA,CAGA;AACA,kBADA;AAEA,qBAFA,EAHA;AAMA;AACA;AACA;AACA,0BADA;;AAGA,OAXA;AAYA,UAZA;AAaA,KA7BA;AA8BA,QA9BA,kBA8BA;AACA;AACA;AACA,KAjCA;AAkCA;AACA,eAnCA,yBAmCA;AACA;AACA;AACA,gBADA,EACA;AACA,4CAFA,EAEA;AACA,uCAHA,EAGA;AACA;AACA;AACA;AACA;AACA,iCAJA,GAIA,iBAJA;AAKA;AACA;AACA;AACA,+BAHA;;AAKA;AAVA,2DAWA,aAXA,OAWA;AACA;AACA,2CADA,EACA;AACA,mCAFA;AAGA,yDAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3CA,yNAJA;;AAkDA,KAvFA;AAwFA;AACA,YAzFA,sBAyFA;AACA;AACA,KA3FA;AA4FA;AACA,iBA7FA,2BA6FA;AACA;AACA,KA/FA;AAgGA;AACA,QAjGA,kBAiGA;AACA;AACA,KAnGA;AAoGA;AACA,YArGA,sBAqGA;AACA;AACA;AACA,KAxGA;AAyGA,WAzGA,qBAyGA;AACA;AACA;AACA,KA5GA;AA6GA,aA7GA,uBA6GA;AACA;AACA;AACA,KAhHA;AAiHA,eAjHA,uBAiHA,IAjHA,EAiHA,MAjHA,EAiHA,GAjHA,EAiHA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvHA;AAwHA,gBAxHA,wBAwHA,CAxHA,EAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAXA,MAWA;AACA;AACA;AACA;AACA,KA7IA;AA8IA,UA9IA,oBA8IA;AACA;AACA;AACA,KAjJA;AAkJA,aAlJA,uBAkJA;AACA;AACA;AACA,KArJA;AAsJA,aAtJA,uBAsJA;AACA;AACA;AACA,KAzJA;AA0JA,YA1JA,sBA0JA;AACA;AACA;AACA,KA7JA;AA8JA,eA9JA,yBA8JA;AACA;AACA;AACA;AACA;AACA,KAnKA;AAoKA,aApKA,uBAoKA,EApKA;AAqKA,YArKA,sBAqKA,EArKA;AAsKA,WAtKA,mBAsKA,QAtKA,EAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WATA;AAUA;;AAEA;AACA;AACA,4DADA,EACA;AACA,0BAFA;AAGA,8EAHA;;AAKA,cALA,CAKA;AACA;AACA,WAPA;AAQA,eARA,CAQA;AACA;AACA,WAVA;;AAYA;AACA,8BADA;;AAGA;AACA,SApCA;;AAsCA,KA/MA;AAgNA,cAhNA,wBAgNA;AACA;AACA;AACA,+BADA,EACA;AACA,kCAFA,EAEA;AACA,8BAHA,EAGA;AACA,2BAJA,EAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAzBA;;AA2BA,KA7OA,EAnEA,E;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAA23B,CAAgB,+3BAAG,EAAC,C;;;;;;;;;;;ACA/4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/jin-edit/jin-edit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./jin-edit.vue?vue&type=template&id=05932750&scoped=true&\"\nvar renderjs\nimport script from \"./jin-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./jin-edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jin-edit.vue?vue&type=style&index=0&id=05932750&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05932750\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"diary/components/jin-edit/jin-edit.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-edit.vue?vue&type=template&id=05932750&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-edit.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\" :style=\"{\r\n\t\tpaddingBottom: showMoreTool ? '220rpx' : '120rpx'\r\n\t}\"> \r\n\t\t<editor\r\n\t\t\tclass=\"ql-container\"\r\n\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t:show-img-size=\"showImgSize\"\r\n\t\t\t:show-img-toolbar=\"showImgToolbar\"\r\n\t\t\t:show-img-resize=\"showImgResize\"\r\n\t\t\t@ready=\"onEditorReady\"\r\n\t\t\tid=\"editor\"\r\n\t\t\t@statuschange=\"statuschange\"\r\n\t\t\t@focus=\"editFocus\" \r\n\t\t\t@blur=\"editBlur\"\r\n\t\t\tref=\"editot\"\r\n\t\t></editor>   \r\n\t\t<!-- 操作工具 -->\r\n\t\t<view class=\"tool-view\" > \r\n\t\t\t<view class=\"tool\">\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe61e;\" font-size=\"44rpx\" title=\"插入图片\" @click=\"insertImage\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe6ec;\" font-size=\"44rpx\" title=\"修改文字样式\" @click=\"showMore\" :color=\"showMoreTool ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t\t<!-- <jinIcon class=\"single\" type=\"&#xe6eb;\" font-size=\"44rpx\" title=\"分割线\" @click=\"insertDivider\"></jinIcon> -->\r\n\t\t\t\t<jsfunRecord\r\n\t\t\t\t  voicePath=\"\"\r\n\t\t\t\t  :maxTime=\"15\"\r\n\t\t\t\t  :minTime=\"5\"\r\n\t\t\t\t  @okClick=\"saveRecord\"\r\n\t\t\t\t>\r\n\t\t\t\t<jinIcon class=\"single centerwz\" type=\"&#xe63d;\" font-size=\"46rpx\" title=\"录音\" @click=\"setVideo\" ></jinIcon>\r\n\t\t\t\t</jsfunRecord>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe662;\" font-size=\"45rpx\" title=\"撤销\" @click=\"undo\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe61f;\" font-size=\"46rpx\" title=\"重做\" @click=\"redo\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe936;\" font-size=\"44rpx\" title=\"保存\" @click=\"showSetting\"></jinIcon>\r\n\t\t\t</view>\r\n\t\t\t<!-- 文字相关操作 -->\r\n\t\t\t<view class=\"font-more\" :style=\"{ height: showMoreTool ? '100rpx' : 0 }\">\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe60e;\" font-size=\"44rpx\" title=\"加粗\" @click=\"setBold\" :color=\"showBold ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe6ef;\" font-size=\"44rpx\" title=\"斜体\" @click=\"setItalic\" :color=\"showItalic ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe628;\" font-size=\"44rpx\" title=\"下滑线\" @click=\"setIns\" :color=\"showIns ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe6e2;\" font-size=\"44rpx\" title=\"标题\" @click=\"setHeader\" :color=\"showHeader ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe6e7;\" font-size=\"44rpx\" title=\"居中\" @click=\"setCenter\" :color=\"showCenter ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t\t<jinIcon class=\"single\" type=\"&#xe6e6;\" font-size=\"44rpx\" title=\"居右\" @click=\"setRight\" :color=\"showRight ? activeColor : '#666666'\"></jinIcon>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<view class=\"setting-layer-mask\" v-if=\"showSettingLayer\" @click=\"showSetting\"></view>\r\n\t\t\t\r\n\t\t\t<!-- 对号提交按钮 -->\r\n\t\t\t<view class=\"setting-layer\" v-if=\"showSettingLayer\">\r\n\t\t\t\t<view class=\"single\" @click=\"release(true)\">\r\n\t\t\t\t\t<jinIcon class=\"icon\" type=\"&#xe639;\" ></jinIcon>\r\n\t\t\t\t\t<view>公开发布</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"single\" @click=\"release(false)\">\r\n\t\t\t\t\t<jinIcon class=\"icon\" type=\"&#xe655;\" ></jinIcon>\r\n\t\t\t\t\t<view>私密保存</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport jinIcon from './jin-icons.vue';\r\nimport jsfunRecord from '@/components/jsfun-record/jsfun-record.vue'\r\nexport default {\r\n\tprops: {\r\n\t\t// 点击图片时显示图片大小控件\r\n\t\tshowImgSize: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 点击图片时显示工具栏控件\r\n\t\tshowImgToolbar: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 点击图片时显示修改尺寸控件\r\n\t\tshowImgResize: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 占位符\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '输入内容...'\r\n\t\t},\r\n\t\t// 图片上传的地址\r\n\t\tuploadFileUrl: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#'\r\n\t\t},\r\n\t\t// 上传文件时的name\r\n\t\tfileKeyName: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'file'\r\n\t\t},\r\n\t\t// 上传图片时，http请求的header\r\n\t\theader: {\r\n\t\t\ttype: Object\r\n\t\t},\r\n\t\t// 初始化html\r\n\t\thtml: {\r\n\t\t\ttype: String\r\n\t\t}\r\n\t},\r\n\tcomputed:{\r\n\t\t\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowMoreTool: false,  // 是否显示更多工具\r\n\t\t\tshowBold: false,\t// 是否显示字体加粗按钮\r\n\t\t\tshowItalic: false,  // 是否显示字体倾斜按钮\r\n\t\t\tshowIns: false,\t \t// 是否显示下划线按钮\r\n\t\t\tshowHeader: false,\t// 是否显示标题按钮\r\n\t\t\tshowCenter: false,  // 是否显示居中按钮\r\n\t\t\tshowRight: false,   // 是否显示右对齐按钮\r\n\t\t\tshowSettingLayer: false,  // 是否显示设置层\r\n\t\t\t// showVideo: false,\t// 是否显示录音层\r\n\t\t\tactiveColor: '#F56C6C',  // 选中样式\r\n\t\t\tlocaleImgPaths: [],\t// 选择的所有本地图片路径\r\n\t\t\tnetworkImgPaths: {}\t// 接受到接口返回的网络路径\r\n\t\t};\r\n\t},\r\n\tcomponents: {\r\n\t\tjinIcon,\r\n\t\tjsfunRecord\r\n\t},\r\n\tcreated() {\r\n\t\t\r\n\t},\r\n\tmethods: {\r\n\t\tsaveRecord(recordPath) {\r\n\t\t\tconsole.log(\"===音频文件地址：\"+recordPath+\"===\")\r\n\t\t\t//do... 可以使用 uni.uploadFile 接口上传到服务器\r\n\t\t},\r\n\t\t// 开始录音\r\n\t\tstartVideo(){},\r\n\t\t\r\n\t\t// 暂停录音\r\n\t\tstopVideo(){},\r\n\t\t\r\n\t\t// 保存录音\r\n\t\tsaveVideo(){},\r\n\t\t\r\n\t\tonEditorReady(e) {\r\n\t\t\t// 编辑器初始化完成时触发\r\n\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t.in(this)\r\n\t\t\t\t.select('.ql-container')\r\n\t\t\t\t.fields({\r\n\t\t\t\t\tsize: true,\r\n\t\t\t\t\tcontext: true\r\n\t\t\t\t},res => {\r\n\t\t\t\t\tthis.editorCtx = res.context;\r\n\t\t\t\t\tthis.editorCtx.setContents({\r\n\t\t\t\t\t\thtml: this.html\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.exec();\r\n\t\t},\r\n\t\tundo() {\r\n\t\t\t// 清空内容\r\n\t\t\tthis.editorCtx.undo();\r\n\t\t},\r\n\t\t// 插入图片\r\n\t\tinsertImage() {\r\n\t\t\t// 选择图片\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 9, // 默认9\r\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\r\n\t\t\t\tsuccess: async(res) => {  // 图片选择成功\r\n\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\t// var tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t// 拿到图片的本地路径\r\n\t\t\t\t\tvar tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t// 加载动画\r\n\t\t\t\t\t\t// title: '正在上传中...'\r\n\t\t\t\t\t\ttitle: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 选择图片完成后处理，将图片插入到编辑器中\r\n\t\t\t\t\tfor (let tempFilePath of tempFilePaths) {\r\n\t\t\t\t\t\tthis.editorCtx.insertImage({\r\n\t\t\t\t\t\t\tsrc: tempFilePath,  // 将当前图片设置为本地路径\r\n\t\t\t\t\t\t\talt: '图片',\r\n\t\t\t\t\t\t\tsuccess: function(e) {}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// 关闭加载动画\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.log(tempFilePath);\r\n\t\t\t\t\t\t// 将当前图片添加到图片数组\r\n\t\t\t\t\t\tthis.localeImgPaths.push({uri: tempFilePath, name: tempFilePath});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t// // 遍历包含所有的图片本地路径的数组\r\n\t\t\t\t\t// for (let temp of tempFilePaths) {\r\n\t\t\t\t\t// \t// 图片上传服务器\r\n\t\t\t\t\t// \tawait uni.uploadFile({\r\n\t\t\t\t\t// \t\turl: this.uploadFileUrl,  // 接收的接口地址\r\n\t\t\t\t\t// \t\tfilePath: temp,\t// 要上传文件资源的本地路径\r\n\t\t\t\t\t// \t\tname: this.fileKeyName,  // 文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容\t\r\n\t\t\t\t\t// \t\theader: this.header,\t// HTTP 请求 Header, header 中不能设置 Referer。\r\n\t\t\t\t\t// \t\tsuccess: res => {\r\n\t\t\t\t\t// \t\t\t// 上传完成后处理\r\n\t\t\t\t\t// \t\t\tthis.editorCtx.insertImage({\r\n\t\t\t\t\t// \t\t\t\tsrc: temp,  // 此处需要将图片地址切换成服务器返回的真实图片地址\r\n\t\t\t\t\t// \t\t\t\talt: '图片',\r\n\t\t\t\t\t// \t\t\t\tsuccess: function(e) {}\r\n\t\t\t\t\t// \t\t\t});\r\n\t\t\t\t\t// \t\t\tuni.hideLoading()\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 录音\r\n\t\tsetVideo() {\r\n\t\t\tthis.showVideo = !this.showVideo;\r\n\t\t},\r\n\t\t// 插入分割线（未启用）\r\n\t\tinsertDivider() {\r\n\t\t\tthis.editorCtx.insertDivider();\r\n\t\t},\r\n\t\t// 撤销\r\n\t\tredo() {\r\n\t\t\tthis.editorCtx.redo();\r\n\t\t},\r\n\t\t// 修改文字样式\r\n\t\tshowMore() {\r\n\t\t\tthis.showMoreTool = !this.showMoreTool;\r\n\t\t\tthis.editorCtx.setContents()\r\n\t\t},\r\n\t\tsetBold() {\r\n\t\t\tthis.showBold = !this.showBold;\r\n\t\t\tthis.editorCtx.format('bold');\r\n\t\t},\r\n\t\tsetItalic() {\r\n\t\t\tthis.showItalic = !this.showItalic;\r\n\t\t\tthis.editorCtx.format('italic');\r\n\t\t},\r\n\t\tcheckStatus(name, detail, obj) {\r\n\t\t\tif (detail.hasOwnProperty(name)) {\r\n\t\t\t\tthis[obj] = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis[obj] = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tstatuschange(e) {\r\n\t\t\tvar detail = e.detail;\r\n\t\t\tthis.checkStatus('bold', detail, 'showBold');\r\n\t\t\tthis.checkStatus('italic', detail, 'showItalic');\r\n\t\t\tthis.checkStatus('ins', detail, 'showIns');\r\n\t\t\tthis.checkStatus('header', detail, 'showHeader');\r\n\t\t\tif (detail.hasOwnProperty('align')) {\r\n\t\t\t\tif (detail.align == 'center') {\r\n\t\t\t\t\tthis.showCenter = true;\r\n\t\t\t\t\tthis.showRight = false;\r\n\t\t\t\t} else if (detail.align == 'right') {\r\n\t\t\t\t\tthis.showCenter = false;\r\n\t\t\t\t\tthis.showRight = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showCenter = false;\r\n\t\t\t\t\tthis.showRight = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.showCenter = false;\r\n\t\t\t\tthis.showRight = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIns() {\r\n\t\t\tthis.showIns = !this.showIns;\r\n\t\t\tthis.editorCtx.format('ins');\r\n\t\t},\r\n\t\tsetHeader() {\r\n\t\t\tthis.showHeader = !this.showHeader;\r\n\t\t\tthis.editorCtx.format('header', this.showHeader ? 'H2' : false);\r\n\t\t},\r\n\t\tsetCenter() {\r\n\t\t\tthis.showCenter = !this.showCenter;\r\n\t\t\tthis.editorCtx.format('align', this.showCenter ? 'center' : false);\r\n\t\t},\r\n\t\tsetRight() {\r\n\t\t\tthis.showRight = !this.showRight;\r\n\t\t\tthis.editorCtx.format('align', this.showRight ? 'right' : false);\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\t// 点击提交按钮触发的事件\r\n\t\t\t// this.showSettingLayer = !this.showSettingLayer;\r\n\t\t\t// 提交数据\r\n\t\t\tthis.upLoadImgs();\r\n\t\t},\r\n\t\teditFocus() {},\r\n\t\teditBlur() {},\r\n\t\trelease(isPublic) {\r\n\t\t\t// 替换 html 内容，然后上传到接口\r\n\t\t\tthis.showSettingLayer = false;\r\n\t\t\tthis.editorCtx.getContents({\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\tlet html = res.html;\r\n\t\t\t\t\tconsole.log(\"替换前：\", html);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 遍历本地图片路径与网络图片路径的对象数组，逐个替换\r\n\t\t\t\t\tthis.networkImgPaths.imgList.forEach(item => {\r\n\t\t\t\t\t\t// 本地路径 : 网络路径\r\n\t\t\t\t\t\t// 获取键名\r\n\t\t\t\t\t\t// console.log(\"item:\", item);\r\n\t\t\t\t\t\tlet key = Object.keys(item)[0];\r\n\t\t\t\t\t\t// console.log(\"key:\", key);\r\n\t\t\t\t\t\tlet reg = new RegExp(key, 'g');\r\n\t\t\t\t\t\t// console.log(\"reg:\", reg);\r\n\t\t\t\t\t\thtml = html.replace(reg, item[key]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(\"替换后：\", html);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 发起二次请求，将替换好的 html 提交\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: \"http://192.168.1.169:8080/note/textUpload\",  // 接收的接口地址\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\tdata: {noteId: this.networkImgPaths.noteId, noteContent: html}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tObject.assign(res, {\r\n\t\t\t\t\t\tisPublic: isPublic\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$emit('editOk', html);\r\n\t\t\t\t} \r\n\t\t\t})\r\n\t\t},\r\n\t\tupLoadImgs() {\r\n\t\t\t// 上传全部图片到服务器\r\n\t\t\tuni.uploadFile({\r\n\t\t\t\turl: this.uploadFileUrl,  // 接收的接口地址\r\n\t\t\t\tfiles: this.localeImgPaths,\t// 要上传文件资源的本地路径\r\n\t\t\t\tname: this.fileKeyName,  // 文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容\t\r\n\t\t\t\theader: this.header,\t// HTTP 请求 Header, header 中不能设置 Referer。\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t// 上传完成后处理\r\n\t\t\t\t\t// this.editorCtx.insertImage({\r\n\t\t\t\t\t// \tsrc: temp,  // 此处需要将图片地址切换成服务器返回的真实图片地址\r\n\t\t\t\t\t// \talt: '图片',\r\n\t\t\t\t\t// \tsuccess: function(e) {}\r\n\t\t\t\t\t// });\r\n\t\t\t\t\tconsole.log(\"res\", JSON.parse(res.data));\r\n\t\t\t\t\t// 将数据存储到本地\r\n\t\t\t\t\tthis.networkImgPaths = JSON.parse(res.data).data;\t\r\n\t\t\t\t\t// {blob:http://localhost:8080/bb756484-43c9-476d-96f3-415501538659: \"http://192.168.1.169:8080/folder/note/dd47e536-f2ff-4c33-9828-7b99117f3a8e7.png\"}\r\n\t\t\t\t\t// {blob:http://localhost:8080/dc851962-a2e5-40e7-9b21-df0dc2acc33e: \"http://192.168.1.169:8080/folder/note/b3a94604-494c-492a-bd2c-fe687812a5004.jpg\"}\r\n\t\t\t\t\t// {blob:http://localhost:8080/9e80c9b1-fad0-48b0-a84c-85b0a5e50fe6: \"http://192.168.1.169:8080/folder/note/9d07b51b-a574-4b52-a33e-d09ca07c07697.png\"}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 将html字符串中的本地路径替换为网络路径\r\n\t\t\t\t\tthis.release(true);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 关闭加载动画\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tconsole.log(this.localeImgPaths, \"发送完成\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n\tpadding: 30rpx 0;\r\n\tbox-sizing: border-box;\r\n\tpadding-bottom: 120rpx;\r\n}\r\n\r\n.ql-container {\r\n\tline-height: 160%;\r\n\tfont-size: 34rpx;\r\n\twidth: calc(100% - 60rpx); \r\n\theight: auto;\r\n\tmargin: 0 auto;\r\n} \r\n.tool-view{\r\n\twidth: 100vw;\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\t\r\n}\r\n.tool {\r\n\theight: 100rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n\tbackground: #eee;\r\n}\r\n\r\n.font-more {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: 100rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n\tbackground: rgb(235, 235, 235);\r\n\toverflow: hidden;\r\n\ttransition: all 0.15s;\r\n}\r\n\r\n.video {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: 100rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n\tbackground: rgb(235, 235, 235);\r\n\toverflow: hidden;\r\n\ttransition: all 0.15s;\r\n}\r\n\r\n.setting-layer {\r\n\tposition: absolute;\r\n\tbottom: 100rpx;\r\n\tbackground: #fff;\r\n\twidth: 250rpx;\r\n\tright: 20rpx;\r\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 8rpx;\r\n}\r\n.setting-layer .single {\r\n\theight: 80rpx;\r\n\tfont-size: 32rpx;\r\n\tpadding: 0 30rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tline-height: 80rpx;\r\n\tflex-direction: row;\r\n\tcolor: #666;\r\n}\r\n.setting-layer .single .icon {\r\n\tmargin-right: 20rpx;\r\n}\r\n.setting-layer-mask{\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tbackground: transparent; \r\n}\r\n</style>\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-edit.vue?vue&type=style&index=0&id=05932750&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-edit.vue?vue&type=style&index=0&id=05932750&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591070338197\n      var cssReload = require(\"C:/Users/Administrator/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}